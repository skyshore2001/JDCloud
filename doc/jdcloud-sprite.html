<html>
<head>
<meta charset="utf-8">
<title>jdcloud-sprite - 图片合并（精灵图制作）工具</title>
<style>
h3,h4,h5,h6 {
	font-size: 1em;
}

pre {
	border-left: 1px solid #ccc;
	margin: 0 1em;
	padding: 0 0.5em;
	tab-size:4;
}

code {
	font-family: "Courier New";
    padding: 0px 3px;
    display: inline-block;
}

.toc {
	margin: 2em;
}

.toc p {
	margin: 0.3em 0;
}

.block {
	border-bottom: 1px solid #ccc;
}

</style>
<link rel="stylesheet" href="style.css" />
<link rel="stylesheet" href="doc.css" />
<script src="refdoc.js"></script>
</head>

<body>
<h1>jdcloud-sprite - 图片合并（精灵图制作）工具</h1>
<div>最后更新：2017-08-17</div>
<div id="menu">
<h2>Modules</h2>
<div class="toc">
<p><a href="#jdcloud-sprite">jdcloud-sprite (module)</a></p>
</div><hr>
<h2>Keywords</h2>
<div class="toc">
<p><a href="#jdcloud-sprite">jdcloud-sprite (module)</a></p>
</div><hr>
</div>
<div class="block">
<h2 id="jdcloud-sprite">@module jdcloud-sprite</h2>
<p>精灵图(sprite)生成工具。</p>
<p>将多个小图标竖向拼合成一张大图片, 并生成相应的css描述文件.<br />
使用竖向拼合可减少图片大小。一般建议将相同宽度的图片一起生成竖图，效率更高。</p>
<ol>
<li>
<p>安装imagemagick软件, 确认命令行中可以运行convert等命令.</p>
</li>
<li>
<p>开发时, 创建css描述文件, 假如名为 icon.css:</p>
<pre><code>/ * 24x24 @2x图 * /
.icon-tree {
    background-image: url(icon/24/tree2.png);
}
.active .icon-tree {
    background-image: url(icon/24/tree.png);
}

/ * 16x16 @2x图 * /
.icon-back {
    background-image: url(icon/16/back.png);
}
.icon-menu {
    background-image: url(icon/16/menu.png);
}</code></pre>
<p>注意：</p>
<ul>
<li>工具将扫描 &quot;background: url(...);&quot; 这些关键点，处理完图片后，就会替换这些地方并输出。在语法格式上没有特殊要求，它可以在单独一行中，也可以和别的行混杂在一起。</li>
<li>不要将1x图片与2x图片定义在一个css文件中。工具处理时，将该文件中所有图片当作1x或2x等处理（默认1x, 可通过参数-2x指定生成@2x图片）</li>
</ul>
</li>
<li>使用本工具生成新的sprite图（拼合后的大图）以及相应的css文件</li>
</ol>
<p>用法:</p>
<pre><code>php jdcloud-sprite.php icon.css</code></pre>
<p>它在icon.css相同目录下生成 icon.out.css文件以 icon.png 图.<br />
一般建议按不同宽度的图分组生成多个sprite，可以加参数 -group 支持按指定宽度分组，这样宽度为16px（如果是@2x图，实际宽度是32）的图拼合到 icon-16.png中, 宽度为24px的图拼合到icon.24.png中, 等等。</p>
<pre><code>php jdcloud-sprite.php icon.css -group</code></pre>
<p>若要控制生成的文件名，可以用-out, -sprite等参数：</p>
<pre><code>php jdcloud-sprite.php icon.css -2x -out icon/icon@2x.css -sprite icon@2x.png</code></pre>
<p>运行命令后, 生成 icon/icon@2x.png, icon@2x.css; 如果加-group参数，则生成的图片文件名为 icon/icon@2x-16.png等。</p>
<p>参数表：</p>
<pre><code>php jdcloud-sprite.php {icon}.css [-group] [-2x] [-o {icon}.out.css] [-sprite {icon}.png]</code></pre>
<p>注意：</p>
<ul>
<li>生成图片的顺序是按照输入Css中指定的顺序。因此要加入新图片，最好加到同宽度图片的最后，这样生成图片及css的改动最小。</li>
</ul></div>
<div style="text-align:center">Generated by jdcloud-gendoc</div>
</body>

</html>
