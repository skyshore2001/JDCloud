<div wui-script="pageApiLogStat.js" title="接口日志统计" style="padding-left:5px" my-initfn="initPageApiLogStat">
<style>
.btnStat2.active{
	background-color: #ffe48d;
}
table td {
	padding: 5px;
	min-width: 80px;
}
table select, .btnStat {
	min-width: 100px;
	width: 100%;
}
</style>

<table style="margin:10px; border-bottom: 1px solid gray">
	<tr>
		<td>开始时间</td>
		<td>
			<input type="text" name="tm" data-op=">=" data-options="showSeconds:false" class="easyui-datetimebox txtTm1">
		</td>
		<td>结束时间</td>
		<td>
			<input type="text" name="tm" data-op="<" data-options="showSeconds:false" class="easyui-datetimebox txtTm2">
		</td>
		<td>快捷选项</td>
		<td>
			<select class="txtTmRange">
				<option value ="近1周">近1周</option>
				<option value ="本周">本周</option>
				<option value ="前1周">上周</option>
				<option value ="本月">本月</option>
				<option value ="前1月">上月</option>
				<option value ="近1个月">近1个月</option>
				<option value ="近3个月">近3个月</option>
				<option value ="今天">今天</option>
				<option value ="前1天">昨天</option>
				<option value ="近12小时">近12小时</option>
				<option value ="近1年">近1年</option>
			</select>
		</td>
	</tr>

	<tr>
		<td>统计项</td>
		<td>
			<select id="cboRes">
				<option value ="COUNT(*) sum">数量</option>
				<option value="SUM(t) sum">调用时间(毫秒)</option>
				<option value="SUM(reqsz) sum">请求字节数</option>
				<option value="SUM(ressz) sum">返回字节数</option>
				<!-- 可以指定显示名：
				<option value ="COUNT(orderId) 工单数">工单数</option>
				<option value ="totalSnCnt 工件数">工件数</option>

				可以指定多个字段，逗号分隔，表示显示多个系列（这时下面的“分类汇总”是无效的），示例：
				<option value ="totalMh 理论工时,totalMh1 实际工时,totalMh2 出勤工时">工时</option>
				-->
			</select>
		</td>

		<td>应用程序</td>
		<td>
			<select name="app">
				<option value ="">全部</option>
				<option value ="user">用户端</option>
				<option value ="emp">商户端</option>
				<option value ="admin">超级管理端</option>
			</select>
		</td>

		<td>接口名</td>
		<td>
			<select name="ac" class="my-combobox" data-options="jdEnumList:'initClient;User.query;Employee.query;upload;att;login;batch'">
			</select>
		</td>
	</tr>

	<tr>
		<td>分类汇总</td>
		<td>
			<select id="g">
				<option value ="">无</option>
				<option value ="app">应用程序</option>
				<option value="ac">接口名</option>
				<option value="userId">用户编号</option>
				<option value="wd">每周几</option>
				<option value="h">每小时</option>
				<!-- 可以指定两个字段，逗号分隔，格式"分组字段,分组显示字段"
				<option value="userId,userName">用户</option>
				<option value="itemId,itemName">物料</option>
				-->
			</select>
		</td>
		<td>
			<input type="button" value="生成" class="btnStat"/>
		</td>
		<td>
			<label>
				<input type="checkbox" checked onclick="$(this).closest('.wui-page').find('.divTmType').toggle('fast')"/>
				<span>按时间维度分析</span>
			</label>
		</td>
	</tr>
</table>

<div>
	<div class="divChart" data-ac="ApiLog.query" style="width:1000px; height:600px;"></div>
	<div style="margin-left: 700px" class="divTmType">
		<input type="button" value="时" class="btnStat2" data-tmUnit="y,m,d,h">
		<input type="button" value="天" class="btnStat2 active" data-tmUnit="y,m,d">
		<input type="button" value="周" class="btnStat2" data-tmUnit="y,w">
		<input type="button" value="月" class="btnStat2" data-tmUnit="y,m">
		<input type="button" value="季" class="btnStat2" data-tmUnit="y,q">
	</div>
</div>

</div>
