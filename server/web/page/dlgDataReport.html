<form title="自定义报表" style="width:450px;height:400px;" wui-script="dlgDataReport.js" my-initfn="initDlgDataReport">
<style>
.forSum {
	display:none;
}
.wui-form-table {
	width: 95%;
}
</style>
	<table>
		<tr>
			<td>汇总字段</td>
			<td>
				<input name="res" class="wui-picker-edit">
				<a class="easyui-linkbutton btnForSum" data-options="iconCls:'icon-more'"></a>
				<p class="hint">示例-对某列求和：`SUM(amount) 总和`</p>
				<input style="display:none" name="ac">
			</td>
		</tr>
		<tr class="forSum">
			<td style="text-align:right">+</td>
			<td>
				<select class="my-combobox cboSum" data-options="jdEnumList:'COUNT 总数;SUM 总和;AVG 平均;MAX 最大;MIN 最小'" style="width:45%"></select>
				<select class="my-combobox fields cboSumField"  style="width:45%"></select>
			</td>
		</tr>
		<tr class="trCond">
			<td>查询条件</td>
			<td>
				<input name="cond" class="wui-picker-edit">
				<a class="easyui-linkbutton btnAddCond" data-options="iconCls:'icon-add'"></a>
			</td>
		</tr>
		<tr>
			<td>时间统计字段</td>
			<td>
				<select name="tmField" class="my-combobox fields-tm"></select>
				<p class="hint">选择后，行、列统计字段列表将多出时间字段</p>
			</td>
		</tr>
		<tr class="trGres">
			<td>行统计字段</td>
			<td>
				<select name="gres[]" class="my-combobox fields"></select>
				<a class="easyui-linkbutton btnAddGres" data-options="iconCls:'icon-add'"></a>
			</td>
		</tr>
		<tr class="trGres2">
			<td>列统计字段</td>
			<td>
				<select name="gres2[]" class="my-combobox fields"></select>
				<a class="easyui-linkbutton btnAddGres2" data-options="iconCls:'icon-add'"></a>
			</td>
		</tr>
		<tr>
			<td></td>
			<td>
				<label title="在必要时自动添加合计行或合计列">
					<input type="checkbox" name="showSum"> 显示合计
				</label>
				<label title="有时间统计字段或列统计字段时生成直方图，否则生成饼图">
					<input type="checkbox" name="showChart"> 生成统计图
				</label>
			</td>
		</tr>
		<tr id="copyCodeTr">
			<td></td>
			<td>
				<label title="勾上后点确定，可在浏览器控制台(按F12)中按Ctrl-V粘贴运行">
					<input type="checkbox" id="copyCode"> 复制报表代码
				</label>
			</td>
		</tr>
	</table>
	<script type="text/template" id="tplCond">
		<tr class="trCond">
			<td style="text-align:right">+</td>
			<td>
				<select class="my-combobox fields condKey" style="width:45%"></select>
				<input class="condValue" style="width:45%">
				<a class="easyui-linkbutton btnRemove" data-options="iconCls:'icon-remove'"></a>
			</td>
		</tr>
	</script>
	<script type="text/template" id="tplGres">
		<tr class="trGres">
			<td style="text-align:right">+</td>
			<td>
				<select name="gres[]" class="my-combobox fields"></select>
				<a class="easyui-linkbutton btnRemove" data-options="iconCls:'icon-remove'"></a>
			</td>
		</tr>
	</script>
	<script type="text/template" id="tplGres2">
		<tr class="trGres2">
			<td style="text-align:right">+</td>
			<td>
				<select name="gres2[]" class="my-combobox fields"></select>
				<a class="easyui-linkbutton btnRemove" data-options="iconCls:'icon-remove'"></a>
			</td>
		</tr>
	</script>
</form>
